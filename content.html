<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name=App-Config content="fullscreen=yes,useHistoryState=yes,transition=yes">
    <meta content=yes name=apple-mobile-web-app-capable>
    <meta name=â€apple-touch-fullscreenâ€ content=â€yesâ€>
    <meta name="theme-color" content="#1a1a1a">
    <meta content="telephone=no,email=no" name=format-detection>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name=viewport
        content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=yes,viewport-fit=cover">
    <title></title>
    <link rel="stylesheet" href="css/tongyi.css">
    <link rel="stylesheet" href="css/content.css">
</head>

<body>
    <div id="loading">
        <div class="msg">å†…å®¹åŠ è½½ä¸­... è¯·ç¨å...</div>
        <div class="tip text-success">æç¤ºï¼šé˜…è¯»æ—¶ç‚¹å‡»å±å¹•ï¼Œå¯æ˜¾ç¤ºèœå•</div>
    </div>
    <div id="app" v-cloak :class="'bg'+theme" class="theme">
        <!-- ç¿»é¡µ -->
        <template v-if="isPage">
            <div class="page-box up" @click="pageUp"></div>
            <div class="page-box down" @click="pageDown(1)"></div>
        </template>
        <!--        <div class="tip text-danger">æ³¨æ„ï¼šåŒå‡»ç©ºç™½å¤„æ˜¾ç¤º/éšè— â€œç›®å½•â€</div>-->
        <!-- v-swipeleft="clickHideMenu" -->
        <div @touchstart="switchScroll('s')" @touchend="switchScroll('e')">
            <!-- ç›®å½• -->
            <div id="menu" v-swipeleft="clickHideMenu" class="list-group"
                :class="{'show-a': showMenu}">
                <div @dblclick.self="clickHideMenu">
                    <div class="box-book">
                        <span @click="addBook" class="add-book btn btn-xs bg-danger">æ·»åŠ ä¹¦ç­¾</span>
                        <span class="add-book btn btn-xs bg-success">
                            æ€»å­—æ•°ï¼š{{total('', allTotal)}} -- é˜…è¯»ï¼š{{process}}
                        </span>
                    </div>
                    <div class="search-box">
                        <input type="search" class="form-control search" @input="search" @keyup.enter="enterSearch"
                            v-model="word" placeholder="æœç´¢...">
                    </div>
                    <div class="fx">
                        <span class="list-group-item fz book" v-if="showRest" @click="reset('s')">é‡ç½®è®¾ç½®</span>

                        <span class="list-group-item fz book" :class="{active: item.id==theme}"
                            v-for="(item, index) in themeL" @click="changeTheme(item)" :key="item.id">{{item.n}}</span>
                        <span class="list-group-item fz book" @click.capture="switchDark">
                            <i class="zhe"></i>
                            <input class="switch" type="checkbox" v-model='isDark'>è·Ÿéšç³»ç»Ÿ</span>
                    </div>
                    <div class="fx">
                        <span @click.capture="switchPage" class="list-group-item fz book"><i class="zhe"></i><input
                                class="switch" type="checkbox" v-model='isPage'>ç¿»é¡µ</span>
                        <span @click.capture="switchLoad" class="list-group-item fz book"><i class="zhe"></i><input
                                class="switch" type="checkbox" v-model='isOnPage'>åˆ†é¡µ</span>
                        <span @click.capture="switchAuto" class="list-group-item fz book"><i class="zhe"></i><input
                                class="switch" type="checkbox" v-model='isAuto'>è‡ªåŠ¨ {{currTime>=100? currTime :
                            '0'+currTime}}s</span>
                        <!-- <span @click.capture="switchSleep(!isNoSleep)" class="list-group-item fz book"><i
                                class="zhe"></i><input class="switch" type="checkbox" v-model='isNoSleep'>å¸¸äº® </span> -->
                        <span @click.capture="switchOrder" v-if="len>10" class="list-group-item fz book"><i
                                class="zhe"></i><input class="switch" type="checkbox" v-model='isReverse'>å€’åº</span>
                        <span class="list-group-item fz book" v-if="showRest" @click="reset('c')">æ¸…ç©ºç¼“å­˜</span>
                        <span class="list-group-item fz book" v-if="len>5">å…±ï¼š{{len}}ç« </span>
                        <input v-if="isAuto" class="range" @change="setAutoTime" :step="step" v-model="currTime"
                            type="range" name="points" min="6" max="250">
                    </div>
                    <div class="list-group-item fz book curr-pos" @click="toPos(currIdx, currItem);">
                        <!-- {{subProcess}}- -->
                        ä½ç½®ï¼š{{currIdx+1}}-{{currItem.title}}({{currItem.total}})</div>
                    <div>
                        <span class="list-group-item fz book" style="margin-top: 10px" v-for="(item, index) in book"
                            @click="toBook(item)" :key="item">ä¹¦ç­¾{{index+1}} <span class="del"
                                @click.stop="delBook(index)">Ã—</span>
                        </span>
                    </div>
                    <!-- ç›®å½•åˆ—è¡¨ -->
                    <div class="menu-item" v-for="(item, idx) in menuList" :key="item.id" v-show="!item.hide">
                        <a class="list-group-item " href="javascript:" @click="toPos(item.id, item);"
                            :class="['list-group-item-'+colors[idx%4],{active: item.id===currIdx}]">
                            {{item.id+1}}--{{item.title}}({{item.total}})
                        </a>
                    </div>
                    <!-- å­—ä½“å¤§å°è®¾ç½® -->
                    <div>
                        <span class="list-group-item fz" :key="item" :class="{'active': item == currFontS}"
                            v-for="item in font" @click="setFontS(item)">{{item}}
                        </span>
                    </div>
                    <div>
                        <span class="list-group-item fz">å½“å‰å­—å·ï¼š{{ currFontS }}</span>
                        <span class="list-group-item  fz" @click="setFontS('+')">+</span>
                        <span class="list-group-item fz" @click="setFontS('-')">-</span>
                    </div>
                    <!-- å­—ä½“è®¾ç½® -->
                    <div>
                        <span class="list-group-item fz" :key="item" :class="{'active': item.v == currFontF}"
                            v-for="(item) in fontF" @click="setFontF(item)">{{item.n}}
                        </span>
                    </div>
                    
                </div>
            </div>

            <!-- å†…å®¹ -->
            <div id="bodyBox">
                <div class="panel-footer page-tap prev" v-if="isOnPage && memoryId > 0"
                    @click.stop="loadUpdate(memoryId, '-')">
                    ä¸Šä¸€ç«  - {{list[memoryId-1].title}} <span v-if="isOnPage && memoryId < len-1"
                        @click.stop="loadUpdate(memoryId, '+')">ä¸‹ä¸€ç« </span>
                </div>
                <div class="panel-footer page-tap prev" v-if="isOnPage && memoryId == 0 && list.length > 1">
                    <span @click.stop="loadUpdate(memoryId, '+')">ä¸‹ä¸€ç« </span>
                </div>

                <div class="body-box" v-for="(item, idx) in list" :key="item.id">
                    <div class="panel" v-show="(isOnPage===false || memoryId == item.id)"
                        @dblclick.capture="clickShowMenu(item.id,item)" :class="'panel-'+colors[idx%4]"
                        @click.stop="showReadOpt(item.id,item)" :id="'id'+item.id" :key="item.id">
                        <div class="panel-heading">
                            <h3 class="panel-title text-center">
                                {{item.title}}
                                <span class="author" v-show="item.author? true : list[0].author">ä½œè€…ï¼š{{item.author?
                                    item.author :
                                    list[0].author}}</span>
                                <!-- <span class="author">({{item.total}})</span> -->
                            </h3>
                        </div>
                        <!-- éŸ³é¢‘ -->
                        <div class="nft-player block-flex-center" v-if="showAudio === 'm4a'" @click.stop>
                            <div class="nft-player-ctrl block-flex_fixed block-flex-center">
                                <a href="javascript:" class="nft-player-play"></a>
                                <a href="javascript:" class="nft-player-stop"></a>
                            </div>
                            <div class="nft-player-progress block-flex_full">
                                <i style="width: 0%;"></i>
                                <input type="range" min="0" max="100" value="0">
                            </div>
                            <div class="nft-player-time block-flex_fixed">
                                <span data-curr="">00:00</span>/<span data-duration="">00:00</span>
                            </div>
                        </div>
                        <video id="video" v-else-if="showAudio === 'mp4'" controls autoplay :src="audioSrc"></video>
                        <div class="panel-body" v-html="item.html"></div>
                        <!-- <div class="panel-body" v-html="item.html"></div> -->
                        <div class="panel-footer" v-if="['jiangji', 'qita', 'xukongji'].includes(dirType) && item.date">
                            å‘å¸ƒæ—¶é—´ï¼š{{item.date}}</div>
                    </div>
                </div>
                <div class="panel-footer page-tap next" v-if="isOnPage && memoryId < len-1"
                    @click.stop="loadUpdate(memoryId, '+')">
                    ä¸‹ä¸€ç«  - {{list[memoryId+1].title}}
                </div>
            </div>

            <!-- è®¾ç½® -->
            <div id="readOpt" @click.capture="hideReadOpt" @touchend="touchReadOpt" :class="{active: showOpt}">
                <div class="header" v-if="currItem">
                    <span class="h-l" @click="switchTheme">
                        <template v-if="theme == 4">ğŸ”†</template><template v-else>ğŸŒ™</template>
                    </span>
                    {{subTit(currItem.title)}}
                    <span class="h-r" @click="clickShowMenu(memoryId)">ç›®å½•</span>
                </div>
                <div class="footer">
                    <div class="f-item">
                        <!-- <span>{{tit}}-({{process}})</span> -->
                        <span>å­—ï¼š{{currItem.total}} -- è¿›ï¼š{{subProcess}}</span>
                    </div>
                    <span class="f-page">{{pageCurr}}/{{pageAll}}</span>
                </div>
            </div>
        </div>

        <!-- è‡ªåŠ¨æ—¶é—´ -->
        <div class="auto-time" v-show="isAuto">{{autoTime}}</div>

    </div>


    <div id="script">
        <script src="js/comm.js"></script>
        <script src="js/jq.js"></script>
        <script src="js/tools.js"></script>
        <!-- <script src="js/nosleep.js"></script> -->
        <!-- <script src="js/indexdb.js"></script>
        <script src="js/touch.js"></script>
        <script src="js/audio.js"></script>
        <script src="js/nosleep.js"></script> -->
    </div>
</body>
<script src="js/content.js"></script>
<script>

</script>

</html>